(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,t){},140:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(27),i=n.n(a),s=(n(68),n(69),n(4)),u=n(11),j=n(34),o=n.n(j),b=n(0);function l(){return Object(b.jsx)("div",{className:o.a.root,children:Object(b.jsx)(u.b,{to:"/home",children:Object(b.jsx)("button",{className:o.a.btn,children:"Welcome"})})})}var p=n(8),O=n(15),d=n(16),h=n.n(d),f=n(17),x="GET_RECIPES",v="GET_RECIPES_BY_NAME",m="GET_RECIPE_DETAIL",g="GET_DIETS",y="ORDER_ASCE",S="ORDER_DESC",E="HEALTH_ASCE",C="HEALTH_DESCE",R="FILTER_BY_DIETS",D="ORIGINAL_ORDER",_=function(e){return function(){var t=Object(O.a)(Object(p.a)().mark((function t(n){var c,r;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get(f.RECIPE_DETAIL+e);case 2:return c=t.sent,r=c.data,t.abrupt("return",n({type:m,payload:r}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(){return function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var n,c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(f.ALL_DIETS);case 2:return n=e.sent,c=n.data,e.abrupt("return",t({type:g,payload:c}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=n(7);function w(e){var t=e.number,n=e.step;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h4",{children:["step ",t]}),Object(b.jsx)("p",{children:n})]})}var k=n(62),T=n.n(k),L=function(){var e=Object(I.b)(),t=Object(s.f)().id;r.a.useEffect((function(){var n=function(){var n=Object(O.a)(Object(p.a)().mark((function n(){return Object(p.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(_(t));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}));var n=(Object(I.c)((function(e){return e}))||!1).recipeDetail;if(n){var c=n.title,a=n.image,i=n.diets,u=n.dishTypes,j=n.healthScore,o=n.summary,l=n.steps;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:c}),a?Object(b.jsx)("img",{src:a,alt:c}):Object(b.jsx)("p",{children:"There is no picture"}),i?Object(b.jsx)("p",{children:"object"===typeof i[0]?i.map((function(e){return e.name})):i}):null,Object(b.jsx)("p",{children:u}),Object(b.jsx)("p",{children:j}),Object(b.jsx)("div",{children:T()(o)}),l?l.length&&l[0].step?l.map((function(e){return Object(b.jsx)(w,{number:e.number,step:e.step},e.number)})):Object(b.jsx)("p",{children:"There is no instrucctions"}):null]})}return Object(b.jsx)("p",{children:"chao pa"})},P=n(5),H=n(24),N=n(2),B=n(14);function Y(e){var t=e.value;return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"checkbox",name:"diets",value:t}),t,Object(b.jsx)("br",{})]})}function F(){var e=Object(I.b)();r.a.useEffect((function(){e(A())}));var t=(Object(I.c)((function(e){return e}))||!1).diets,n={number:0,step:""},c=r.a.useState({title:"",summary:"",healthScore:0,steps:[Object(N.a)({},n)],image:""}),a=Object(B.a)(c,2),i=a[0],s=a[1],u=r.a.useRef(null),j=r.a.useState([]),o=Object(B.a)(j,2),l=o[0],p=o[1],O=r.a.useState({initialState:!0}),d=Object(B.a)(O,2),x=d[0],v=d[1];function m(e){var t={};return e.length?t.diets="":t.diets="You must select at least one diet",t}function g(e){var t="";if(e.length>1){for(var n=0;n<e.length;n++)if(!e[n].step)return t="All steps fields must be filled";return t}}var y=function(e){s(Object(N.a)(Object(N.a)({},i),{},Object(H.a)({},e.target.name,e.target.value))),v(Object(N.a)(Object(N.a)({},x),{},{initialState:!1},function(e){var t={};e.healthScore>100?t.healthScore="Health score must be 100 or less":e.healthScore<0?t.healthScore="Health score must be 0 or greater":t.healthScore="";var n=new RegExp(/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!]))?/);return""!==e.image?n.test(e.image)||(t.image="You must type a URL"):t.image="",e.name?t.name="":t.name="Name is required",e.summary?t.summary="":t.summary="Summar is required",t}(Object(N.a)(Object(N.a)({},i),{},Object(H.a)({},e.target.name,e.target.value)))))};function S(e){if(e.preventDefault(),x.initialState?v(Object(N.a)(Object(N.a)({},x),{},{beforeSubmit:"You must complete the form before you submit"})):v(Object(N.a)(Object(N.a)({},x),{},{beforeSubmit:""})),u.current){var t={recipe:i,diets:l};h.a.post(f.RECIPES,t).then((function(e){return function(e){alert(e)}(e.data)}))}}return r.a.useEffect((function(){u.current=function(){for(var e in x)if(x[e])return 0;return 1}()}),[x,l,i]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Here you can create your own recipe"}),Object(b.jsxs)("form",{onSubmit:function(e){S(e)},children:[Object(b.jsx)("label",{children:"name: "}),Object(b.jsx)("input",{type:"text",name:"title",value:i.title,onChange:function(e){return y(e)}}),x.name?Object(b.jsx)("span",{children:x.name}):null,Object(b.jsx)("label",{children:"Summary: "}),Object(b.jsx)("input",{type:"text",name:"summary",value:i.summary,onChange:function(e){return y(e)}}),x.summary?Object(b.jsx)("span",{children:x.summary}):null,Object(b.jsx)("label",{children:"Health score: "}),Object(b.jsx)("input",{type:"number",name:"healthScore",value:i.healthScore,onChange:function(e){return y(e)}}),x.healthScore?Object(b.jsx)("span",{children:x.healthScore}):null,Object(b.jsx)("label",{children:"Image URL: "}),Object(b.jsx)("input",{type:"text",name:"image",value:i.image,onChange:function(e){return y(e)}}),x.image?Object(b.jsx)("span",{children:x.image}):null,i.steps.map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{children:["Step ",t+1,": "]}),Object(b.jsx)("input",{type:"text",name:"step ".concat(t+1),id:t,"data-number":t+1,value:e.step,onChange:function(e){!function(e){var t=Object(P.a)(i.steps);t[e.target.id].step=e.target.value,t[e.target.id].number=e.target.dataset.number,s(Object(N.a)(Object(N.a)({},i),{},{steps:t})),v(Object(N.a)(Object(N.a)({},x),{},{steps:g(t)}))}(e)}}),i.steps.length>1?Object(b.jsx)("button",{onClick:function(e){!function(e,t){e.preventDefault();var n=Object(P.a)(i.steps);n.splice(t,1),s(Object(N.a)(Object(N.a)({},i),{},{steps:n})),v(Object(N.a)(Object(N.a)({},x),{},{steps:g(Object(P.a)(n))}))}(e,t)},children:"Remove"}):null]},t)})),x.steps?Object(b.jsx)("span",{children:x.steps}):null,Object(b.jsx)("button",{onClick:function(e){!function(e){e.preventDefault(),s(Object(N.a)(Object(N.a)({},i),{},{steps:[].concat(Object(P.a)(i.steps),[Object(N.a)({},n)])})),v(Object(N.a)(Object(N.a)({},x),{},{steps:g([].concat(Object(P.a)(i.steps),[Object(N.a)({},n)]))}))}(e)},children:"Add"}),Object(b.jsx)("input",{type:"submit",disabled:!u})]}),Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onChange:function(e){!function(e){e.target.checked&&(p((function(t){return[].concat(Object(P.a)(t),[e.target.value])})),v(m([].concat(Object(P.a)(l),[e.target.value])))),e.target.checked||(p((function(t){return Object(P.a)(t).filter((function(t){return t!==e.target.value}))})),v(m(Object(P.a)(l).filter((function(t){return t!==e.target.value})))))}(e)},children:[t?t.map((function(e){return Object(b.jsx)(Y,{value:e.name},e.id)})):Object(b.jsx)("p",{children:"pere"}),x.diets?Object(b.jsx)("span",{children:x.diets}):null]})}),x.beforeSubmit?Object(b.jsx)("p",{children:x.beforeSubmit}):null]})}function G(){return Object(b.jsx)("div",{children:Object(b.jsx)(u.b,{to:"/Home",children:Object(b.jsx)("button",{children:"Home"})})})}function M(){return Object(b.jsx)("div",{children:Object(b.jsx)(u.b,{to:"/CreateRecipe",children:Object(b.jsx)("button",{children:"Create recipe"})})})}function q(){var e=Object(s.e)().pathname;return"/"===e?null:"/CreateRecipe"===e?Object(b.jsx)("div",{children:Object(b.jsx)(G,{})}):Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(G,{})}),Object(b.jsx)("div",{children:Object(b.jsx)(M,{})})]})}function J(e){var t=e.id,n=e.image,c=e.title,r=e.diets;return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.b,{to:"/recipe/".concat(t),children:Object(b.jsx)("p",{children:"See detail"})}),Object(b.jsx)("h3",{children:c}),n?Object(b.jsx)("img",{src:n,alt:"".concat(c)}):null,Object(b.jsxs)("p",{children:["".concat(r)," "]})]})}function U(e){var t=e.recipes,n=r.a.useState(0),c=Object(B.a)(n,2),a=c[0],i=c[1];if(t){for(var s=Math.ceil(t.length/9),u=[],j=1;j<=s;j++)u.push(j);return Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Let's see recipes"}),Object(b.jsx)("button",{onClick:function(){a>0&&i(a-9)},children:"Back"}),u.map((function(e){return Object(b.jsx)("button",{value:e,onClick:function(e){return function(e){console.log(e.target.value),i(9*e.target.value-9)}(e)},children:e},e)})),Object(b.jsx)("button",{onClick:function(){t[a+9]&&i(a+9)},children:"Next"}),t.slice(a,a+9).map((function(e){return Object(b.jsx)(J,{id:e.id,image:e.image,title:e.title,diets:"object"===typeof e.diets[0]?e.diets.map((function(e){return e.name})):e.diets},e.id)}))]})}return Object(b.jsx)("p",{children:"cargando"})}function W(){var e=r.a.useState(""),t=Object(B.a)(e,2),n=t[0],c=t[1],a=Object(I.b)();return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),a((t=n,function(){var e=Object(O.a)(Object(p.a)().mark((function e(n){var c,r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(f.RECIPES_BY_NAME+t);case 2:return c=e.sent,r=c.data,e.abrupt("return",n({type:v,payload:r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)("input",{type:"text",value:n,onChange:function(e){return function(e){c(e.target.value)}(e)}}),Object(b.jsx)("button",{type:"submit"})]})})}function z(e){var t=e.diets,n=r.a.useState([]),c=Object(B.a)(n,2),a=c[0],i=c[1],s=Object(I.b)();return r.a.useEffect((function(){s(function(e){return{type:R,payload:e}}(a))}),[a]),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Sort by:"}),Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onChange:function(e){e.preventDefault(),s(function(e,t){if("Alphabetical"===t){if("Ascending"===e)return{type:y};if("Descending"===e)return{type:S};if("-"===e)return{type:D}}if("Numerical"===t){if("Ascending"===e)return{type:E};if("Descending"===e)return{type:C};if("-"===e)return{type:D}}}(e.target.value,e.target.name))},children:[Object(b.jsx)("p",{children:"Alphabet order:"}),Object(b.jsxs)("select",{name:"Alphabetical",children:[Object(b.jsx)("option",{value:"-",children:"-"}),Object(b.jsx)("option",{value:"Ascending",children:"Ascending"}),Object(b.jsx)("option",{value:"Descending",children:"Descending"})]}),Object(b.jsx)("p",{children:"Health score:"}),Object(b.jsxs)("select",{name:"Numerical",children:[Object(b.jsx)("option",{value:"-",children:"-"}),Object(b.jsx)("option",{value:"Ascending",children:"Ascending"}),Object(b.jsx)("option",{value:"Descending",children:"Descending"})]})]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onChange:function(e){!function(e){e.target.checked&&i((function(t){return[].concat(Object(P.a)(t),[e.target.value])})),e.target.checked||i((function(t){return Object(P.a)(t).filter((function(t){return t!==e.target.value}))}))}(e)},children:[Object(b.jsx)("p",{children:"Diet types:"}),t.map((function(e){return Object(b.jsx)(Y,{value:e.name},e.id)}))]})})]})}function K(){var e=Object(I.b)();r.a.useEffect((function(){var t=function(){var t=Object(O.a)(Object(p.a)().mark((function t(){return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var n,c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(f.RECIPES);case 2:return n=e.sent,c=n.data,e.abrupt("return",t({type:x,payload:c}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return t.next=5,e(A());case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}));var t=Object(I.c)((function(e){return e}))||!1,n=t.recipes,c=t.diets;return n&&c?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(W,{})}),Object(b.jsx)("div",{children:Object(b.jsx)(z,{diets:c})}),Object(b.jsx)("div",{children:Object(b.jsx)(U,{recipes:n})})]}):Object(b.jsx)("p",{children:"cargando"})}var Q=function(){return Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)(s.a,{exact:!0,path:"/",component:l}),Object(b.jsx)(s.a,{path:"/",component:q}),Object(b.jsx)(s.a,{path:"/Home",component:K}),Object(b.jsx)(s.a,{path:"/recipe/:id",component:L}),Object(b.jsx)(s.a,{path:"/CreateRecipe",component:F})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},X=n(36);function Z(e,t){return e.title<t.title?-1:e.title>t.title?1:0}function $(e,t){return e.healthScore<t.healthScore?-1:e.healthScore>t.healthScore?1:Z(t,e)}var ee={recipes:[],orderRecipes:[],diets:[],recipeDetail:{}},te=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,n=arguments.length>1?arguments[1]:void 0,c=function(){switch(n.type){case x:return{v:Object(N.a)(Object(N.a)({},t),{},{recipes:n.payload,orderRecipes:n.payload})};case v:return{v:Object(N.a)(Object(N.a)({},t),{},{recipes:n.payload})};case m:return{v:Object(N.a)(Object(N.a)({},t),{},{recipeDetail:n.payload})};case g:return{v:Object(N.a)(Object(N.a)({},t),{},{diets:n.payload})};case D:return{v:Object(N.a)(Object(N.a)({},t),{},{recipes:t.orderRecipes})};case y:return e=Object(P.a)(t.recipes),{v:Object(N.a)(Object(N.a)({},t),{},{recipes:e.sort(Z)})};case S:return e=Object(P.a)(t.recipes),{v:Object(N.a)(Object(N.a)({},t),{},{recipes:e.sort(Z).reverse()})};case E:return e=Object(P.a)(t.recipes),{v:Object(N.a)(Object(N.a)({},t),{},{recipes:e.sort($)})};case C:return e=Object(P.a)(t.recipes),{v:Object(N.a)(Object(N.a)({},t),{},{recipes:e.sort($).reverse()})};case R:var c=n.payload;if(!c.length)return{v:Object(N.a)(Object(N.a)({},t),{},{recipes:t.orderRecipes})};for(var r=[],a=function(e){r=r.concat(t.orderRecipes.filter((function(t){return t.diets.includes(c[e])})))},i=0;i<c.length;i++)a(i);var s=new Set(r),u=Object(P.a)(s);return{v:Object(N.a)(Object(N.a)({},t),{},{recipes:u})}}}();if("object"===typeof c)return c.v},ne=n(63),ce=Object(X.b)(te,Object(X.a)(ne.a));i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(I.a,{store:ce,children:Object(b.jsx)(u.a,{children:Object(b.jsx)(Q,{})})})}),document.getElementById("root")),V()},17:function(e,t){var n="http://localhost:3001",c=n+"/recipes";e.exports={RECIPES:c,RECIPES_BY_NAME:"http://localhost:3001/recipes?name=",RECIPE_DETAIL:"http://localhost:3001/recipes/",ALL_DIETS:"http://localhost:3001/diets"}},34:function(e,t,n){e.exports={root:"LandingPage_root__2gl-t",btn:"LandingPage_btn__3aRHG"}},68:function(e,t,n){},69:function(e,t,n){}},[[140,1,2]]]);
//# sourceMappingURL=main.c68872a1.chunk.js.map