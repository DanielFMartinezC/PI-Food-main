(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{124:function(e,t){},139:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(27),i=n.n(a),s=(n(67),n(68),n(4)),u=n(13),o=n(0);function j(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(u.b,{to:"/home",children:Object(o.jsx)("button",{children:"Welcome"})}),Object(o.jsx)("img",{src:"https://images.unsplash.com/photo-1594007654729-407eedc4be65?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8YWVzdGhldGljJTIwZm9vZHxlbnwwfHwwfHw%3D&w=1000&q=80",alt:"aesthetic food"})]})}var l=n(7),b=n(15),p=n(19),O=n.n(p),d=n(20),h="GET_RECIPES",f="GET_RECIPES_BY_NAME",x="GET_RECIPE_DETAIL",v="GET_DIETS",m="ORDER_ASCE",g="ORDER_DESC",y="HEALTH_ASCE",E="HEALTH_DESCE",S="FILTER_BY_DIETS",C="ORIGINAL_ORDER",w=function(e){return function(){var t=Object(b.a)(Object(l.a)().mark((function t(n){var c,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get(d.RECIPE_DETAIL+e);case 2:return c=t.sent,r=c.data,t.abrupt("return",n({type:x,payload:r}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(){return function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var n,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(d.ALL_DIETS);case 2:return n=e.sent,c=n.data,e.abrupt("return",t({type:v,payload:c}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=n(8);function A(e){var t=e.number,n=e.step;return Object(o.jsxs)("div",{children:[Object(o.jsxs)("h4",{children:["step ",t]}),Object(o.jsx)("p",{children:n})]})}var I=n(61),_=n.n(I),k=function(){var e=Object(R.b)(),t=Object(s.e)().id;r.a.useEffect((function(){var n=function(){var n=Object(b.a)(Object(l.a)().mark((function n(){return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(w(t));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);var n=(Object(R.c)((function(e){return e}))||!1).recipeDetail;if(n){console.log(n);var c=n.title,a=n.image,i=n.diets,u=n.dishTypes,j=n.healthScore,p=n.summary,O=n.steps;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:c}),a?Object(o.jsx)("img",{src:a,alt:c}):Object(o.jsx)("p",{children:"There is no picture"}),i?Object(o.jsx)("p",{children:"object"===typeof i[0]?i.map((function(e){return e.name})):i}):null,Object(o.jsx)("p",{children:u}),Object(o.jsx)("p",{children:j}),Object(o.jsx)("div",{children:_()(p)}),O?O.length&&O[0].step?O.map((function(e){return Object(o.jsx)(A,{number:e.number,step:e.step},e.number)})):Object(o.jsx)("p",{children:"There is no instrucctions"}):null]})}return Object(o.jsx)("p",{children:"chao pa"})},T=n(5),H=n(24),L=n(2),P=n(14);function M(e){var t=e.value;return Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"checkbox",name:"diets",value:t}),t,Object(o.jsx)("br",{})]})}function Y(){var e=Object(R.b)();r.a.useEffect((function(){e(D())}),[]);var t=(Object(R.c)((function(e){return e}))||!1).diets,n={number:0,step:""},c=r.a.useState({title:"",summary:"",healthScore:0,steps:[Object(L.a)({},n)],image:""}),a=Object(P.a)(c,2),i=a[0],s=a[1],u=r.a.useRef(null),j=r.a.useState([]),p=Object(P.a)(j,2),h=p[0],f=p[1],x=r.a.useState({initialState:!0}),v=Object(P.a)(x,2),m=v[0],g=v[1];function y(e){var t={};return e.length?t.diets="":t.diets="You must select at least one diet",t}function E(e){var t="";if(console.log(e.length),e.length>1){console.log("entr\xe9 en el condicional");for(var n=0;n<e.length;n++)if(console.log("entr\xe9 en el for"),!e[n].step)return console.log("entr\xe9 en el step vac\xedo"),t="All steps fields must be filled",console.log(t,"error steps"),t;return console.log(t,"error steps"),t}}var S=function(e){s(Object(L.a)(Object(L.a)({},i),{},Object(H.a)({},e.target.name,e.target.value))),g(Object(L.a)(Object(L.a)({},m),{},{initialState:!1},function(e){var t={};e.healthScore>100?t.healthScore="Health score must be 100 or less":e.healthScore<0?t.healthScore="Health score must be 0 or greater":t.healthScore="";var n=new RegExp(/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/);return""!==e.image?n.test(e.image)||(t.image="You must type a URL"):t.image="",e.name?t.name="":t.name="Name is required",e.summary?t.summary="":t.summary="Summar is required",t}(Object(L.a)(Object(L.a)({},i),{},Object(H.a)({},e.target.name,e.target.value)))))};function C(t){if(t.preventDefault(),console.log("hice submit"),m.initialState?g(Object(L.a)(Object(L.a)({},m),{},{beforeSubmit:"You must complete the form before you submit"})):g(Object(L.a)(Object(L.a)({},m),{},{beforeSubmit:""})),u.current){var n={recipe:i,diets:h};console.log(n),e(function(e){return function(){var t=Object(b.a)(Object(l.a)().mark((function t(n){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post(d.RECIPES,e);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))}}return r.a.useEffect((function(){u.current=function(){for(var e in m)if(m[e])return 0;return 1}(),console.log(m),console.log(u.current)}),[m,h,i]),Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Here you can create your own recipe"}),Object(o.jsxs)("form",{onSubmit:function(e){C(e)},children:[Object(o.jsx)("label",{children:"name: "}),Object(o.jsx)("input",{type:"text",name:"title",value:i.title,onChange:function(e){return S(e)}}),m.name?Object(o.jsx)("span",{children:m.name}):null,Object(o.jsx)("label",{children:"Summary: "}),Object(o.jsx)("input",{type:"text",name:"summary",value:i.summary,onChange:function(e){return S(e)}}),m.summary?Object(o.jsx)("span",{children:m.summary}):null,Object(o.jsx)("label",{children:"Health score: "}),Object(o.jsx)("input",{type:"number",name:"healthScore",value:i.healthScore,onChange:function(e){return S(e)}}),m.healthScore?Object(o.jsx)("span",{children:m.healthScore}):null,Object(o.jsx)("label",{children:"Image URL: "}),Object(o.jsx)("input",{type:"text",name:"image",value:i.image,onChange:function(e){return S(e)}}),m.image?Object(o.jsx)("span",{children:m.image}):null,i.steps.map((function(e,t){return Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Step ",t+1,": "]}),Object(o.jsx)("input",{type:"text",name:"step ".concat(t+1),id:t,"data-number":t+1,value:e.step,onChange:function(e){!function(e){var t=Object(T.a)(i.steps);t[e.target.id].step=e.target.value,t[e.target.id].number=e.target.dataset.number,s(Object(L.a)(Object(L.a)({},i),{},{steps:t})),g(Object(L.a)(Object(L.a)({},m),{},{steps:E(t)}))}(e)}}),i.steps.length>1?Object(o.jsx)("button",{onClick:function(e){!function(e,t){e.preventDefault();var n=Object(T.a)(i.steps);n.splice(t,1),s(Object(L.a)(Object(L.a)({},i),{},{steps:n})),g(Object(L.a)(Object(L.a)({},m),{},{steps:E(Object(T.a)(n))}))}(e,t)},children:"Remove"}):null]},t)})),m.steps?Object(o.jsx)("span",{children:m.steps}):null,Object(o.jsx)("button",{onClick:function(e){!function(e){e.preventDefault(),s(Object(L.a)(Object(L.a)({},i),{},{steps:[].concat(Object(T.a)(i.steps),[Object(L.a)({},n)])})),g(Object(L.a)(Object(L.a)({},m),{},{steps:E([].concat(Object(T.a)(i.steps),[Object(L.a)({},n)]))}))}(e)},children:"Add"}),Object(o.jsx)("input",{type:"submit",disabled:!u})]}),Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onChange:function(e){!function(e){e.target.checked&&(f((function(t){return[].concat(Object(T.a)(t),[e.target.value])})),g(y([].concat(Object(T.a)(h),[e.target.value])))),e.target.checked||(f((function(t){return Object(T.a)(t).filter((function(t){return t!==e.target.value}))})),g(y(Object(T.a)(h).filter((function(t){return t!==e.target.value})))))}(e)},children:[t?t.map((function(e){return Object(o.jsx)(M,{value:e.name},e.id)})):Object(o.jsx)("p",{children:"pere"}),m.diets?Object(o.jsx)("span",{children:m.diets}):null]})}),m.beforeSubmit?Object(o.jsx)("p",{children:m.beforeSubmit}):null]})}function B(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(u.b,{to:"/Home",children:Object(o.jsx)("button",{children:"Home"})}),Object(o.jsx)(u.b,{to:"/CreateRecipe",children:Object(o.jsx)("button",{children:"Create recipe"})})]})}function N(e){var t=e.id,n=e.image,c=e.title,r=e.diets;return Object(o.jsxs)("div",{children:[Object(o.jsx)(u.b,{to:"/recipe/".concat(t),children:Object(o.jsx)("h3",{children:c})}),Object(o.jsx)("img",{src:n,alt:"".concat(c)}),Object(o.jsxs)("p",{children:["".concat(r)," "]})]})}function F(e){var t=e.recipes,n=r.a.useState(0),c=Object(P.a)(n,2),a=c[0],i=c[1];if(t){for(var s=Math.ceil(t.length/9),u=[],j=1;j<=s;j++)u.push(j);return Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Let's see recipes"}),Object(o.jsx)("button",{onClick:function(){a>0&&i(a-9)},children:"Back"}),u.map((function(e){return Object(o.jsx)("button",{value:e,onClick:function(e){return function(e){console.log(e.target.value),i(9*e.target.value-9)}(e)},children:e},e)})),Object(o.jsx)("button",{onClick:function(){t[a+9]&&i(a+9)},children:"Next"}),t.slice(a,a+9).map((function(e){return Object(o.jsx)(N,{id:e.id,image:e.image,title:e.title,diets:"object"===typeof e.diets[0]?e.diets.map((function(e){return e.name})):e.diets},e.id)}))]})}return Object(o.jsx)("p",{children:"cargando"})}function G(){var e=r.a.useState(""),t=Object(P.a)(e,2),n=t[0],c=t[1],a=Object(R.b)();return Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),a((t=n,function(){var e=Object(b.a)(Object(l.a)().mark((function e(n){var c,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(d.RECIPES_BY_NAME+t);case 2:return c=e.sent,r=c.data,e.abrupt("return",n({type:f,payload:r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(o.jsx)("input",{type:"text",value:n,onChange:function(e){return function(e){c(e.target.value)}(e)}}),Object(o.jsx)("button",{type:"submit"})]})})}function q(e){var t=e.diets,n=r.a.useState([]),c=Object(P.a)(n,2),a=c[0],i=c[1],s=Object(R.b)();return r.a.useEffect((function(){s(function(e){return{type:S,payload:e}}(a))}),[a]),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"Sort by:"}),Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onChange:function(e){e.preventDefault(),s(function(e,t){if("Alphabetical"===t){if("Ascending"===e)return{type:m};if("Descending"===e)return{type:g};if("-"===e)return{type:C}}if("Numerical"===t){if("Ascending"===e)return{type:y};if("Descending"===e)return{type:E};if("-"===e)return{type:C}}}(e.target.value,e.target.name))},children:[Object(o.jsx)("p",{children:"Alphabet order:"}),Object(o.jsxs)("select",{name:"Alphabetical",children:[Object(o.jsx)("option",{value:"-",children:"-"}),Object(o.jsx)("option",{value:"Ascending",children:"Ascending"}),Object(o.jsx)("option",{value:"Descending",children:"Descending"})]}),Object(o.jsx)("p",{children:"Health score:"}),Object(o.jsxs)("select",{name:"Numerical",children:[Object(o.jsx)("option",{value:"-",children:"-"}),Object(o.jsx)("option",{value:"Ascending",children:"Ascending"}),Object(o.jsx)("option",{value:"Descending",children:"Descending"})]})]})}),Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onChange:function(e){!function(e){e.target.checked&&i((function(t){return[].concat(Object(T.a)(t),[e.target.value])})),e.target.checked||i((function(t){return Object(T.a)(t).filter((function(t){return t!==e.target.value}))}))}(e)},children:[Object(o.jsx)("p",{children:"Diet types:"}),t.map((function(e){return Object(o.jsx)(M,{value:e.name},e.id)}))]})})]})}function J(){var e=Object(R.b)();r.a.useEffect((function(){var t=function(){var t=Object(b.a)(Object(l.a)().mark((function t(){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var n,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(d.RECIPES);case 2:return n=e.sent,c=n.data,e.abrupt("return",t({type:h,payload:c}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return t.next=5,e(D());case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",new Error(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var t=Object(R.c)((function(e){return e}))||!1,n=t.recipes,c=t.diets;return n&&c?Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)(G,{})}),Object(o.jsx)("div",{children:Object(o.jsx)(q,{diets:c})}),Object(o.jsx)("div",{children:Object(o.jsx)(F,{recipes:n})})]}):Object(o.jsx)("p",{children:"cargando"})}var W=function(){return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(s.a,{exact:!0,path:"/",component:j}),Object(o.jsx)(s.a,{path:"/",component:B}),Object(o.jsx)(s.a,{path:"/Home",component:J}),Object(o.jsx)(s.a,{path:"/recipe/:id",component:k}),Object(o.jsx)(s.a,{path:"/CreateRecipe",component:Y})]})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,140)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},z=n(35);function U(e,t){return e.title<t.title?-1:e.title>t.title?1:0}function V(e,t){return e.healthScore<t.healthScore?-1:e.healthScore>t.healthScore?1:U(t,e)}var K={recipes:[],orderRecipes:[],diets:[],recipeDetail:{}},Q=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,n=arguments.length>1?arguments[1]:void 0,c=function(){switch(n.type){case h:return{v:Object(L.a)(Object(L.a)({},t),{},{recipes:n.payload,orderRecipes:n.payload})};case f:return{v:Object(L.a)(Object(L.a)({},t),{},{recipes:n.payload})};case x:return{v:Object(L.a)(Object(L.a)({},t),{},{recipeDetail:n.payload})};case v:return{v:Object(L.a)(Object(L.a)({},t),{},{diets:n.payload})};case C:return{v:Object(L.a)(Object(L.a)({},t),{},{recipes:t.orderRecipes})};case m:return e=Object(T.a)(t.recipes),{v:Object(L.a)(Object(L.a)({},t),{},{recipes:e.sort(U)})};case g:return e=Object(T.a)(t.recipes),{v:Object(L.a)(Object(L.a)({},t),{},{recipes:e.sort(U).reverse()})};case y:return e=Object(T.a)(t.recipes),{v:Object(L.a)(Object(L.a)({},t),{},{recipes:e.sort(V)})};case E:return e=Object(T.a)(t.recipes),{v:Object(L.a)(Object(L.a)({},t),{},{recipes:e.sort(V).reverse()})};case S:var c=n.payload;if(!c.length)return{v:Object(L.a)(Object(L.a)({},t),{},{recipes:t.orderRecipes})};for(var r=[],a=function(e){r=r.concat(t.orderRecipes.filter((function(t){return t.diets.includes(c[e])})))},i=0;i<c.length;i++)a(i);var s=new Set(r),u=Object(T.a)(s);return{v:Object(L.a)(Object(L.a)({},t),{},{recipes:u})}}}();if("object"===typeof c)return c.v},X=n(62),$=Object(z.b)(Q,Object(z.a)(X.a));i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(R.a,{store:$,children:Object(o.jsx)(u.a,{children:Object(o.jsx)(W,{})})})}),document.getElementById("root")),Z()},20:function(e,t){var n="http://localhost:3001",c=n+"/recipes";e.exports={RECIPES:c,RECIPES_BY_NAME:"http://localhost:3001/recipes?name=",RECIPE_DETAIL:"http://localhost:3001/recipes/",ALL_DIETS:"http://localhost:3001/diets"}},67:function(e,t,n){},68:function(e,t,n){}},[[139,1,2]]]);
//# sourceMappingURL=main.29a5693f.chunk.js.map